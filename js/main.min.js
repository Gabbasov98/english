let wordModal=document.querySelector("._word-modal"),sentenceModal=document.querySelector("._sentence-modal"),articleText=document.querySelector(".article .text");if(articleText){articleText.querySelectorAll("p").forEach(e=>{let t=e.innerHTML.replace(/[\wа-яё]+/gim,(function(e){return"nbsp"===e||"&;"===e||" "===e||""===e?"":"."===e?".":","===e?",":`<span>${e}</span>`}));e.innerHTML=t.replace(/[&;]/g,"")}),articleText.onmouseup=function(e){let t="";wordModal.style.top=e.clientY/16+"em",sentenceModal.style.top=e.clientY/16+"em",window.getSelection?t=window.getSelection().toString():document.selection&&"Control"!=document.selection.type&&(t=document.selection.createRange().text),t&&(t=t.trim(),t&&(wordModal.classList.remove("_active"),sentenceModal.classList.add("_active")))},document.addEventListener("click",e=>{e.composedPath().includes(articleText)||(sentenceModal.classList.remove("_active"),wordModal.classList.remove("_active"))}),document.addEventListener("keydown",(function(e){27==e.keyCode&&(sentenceModal.classList.remove("_active"),wordModal.classList.remove("_active"))})),articleText.querySelectorAll("span").forEach(e=>{e&&(e.onclick=function(){sentenceModal.classList.remove("_active"),wordModal.classList.add("_active")})}),addEventListener("scroll",e=>{}),onscroll=e=>{sentenceModal.classList.remove("_active"),wordModal.classList.remove("_active")}}



let body=document.querySelector("body"),modalTogglers=document.querySelectorAll("[data-modal]"),modals=document.querySelectorAll(".modal");function closeModals(){modals.forEach(e=>{e.classList.remove("_active"),body.classList.remove("fixed-body2")})}function openModal(e){closeModals();let o=document.querySelector("#"+e),t=o.querySelectorAll("._close-modal");o.classList.add("_active"),body.classList.add("fixed-body2"),t.forEach(e=>{e.onclick=()=>{o.classList.remove("_active"),body.classList.remove("fixed-body2")}})}modalTogglers.forEach(e=>{e.onclick=function(){openModal(e.getAttribute("data-modal"))}});var getScrollBarSize=function(){var e=window.document.createElement("textarea"),o={visibility:"hidden",position:"absolute",zIndex:"-2147483647",top:"-1000px",left:"-1000px",width:"1000px",height:"1000px",overflow:"scroll",margin:"0",border:"0",padding:"0"},t=void 0!==e.clientWidth&&void 0!==e.offsetWidth;for(var d in o)o.hasOwnProperty(d)&&(e.style[d]=o[d]);return function(){var o=null;return t&&window.document.body&&(window.document.body.appendChild(e),o=[e.offsetWidth-e.clientWidth,e.offsetHeight-e.clientHeight],window.document.body.removeChild(e)),document.documentElement.style.setProperty("--scrollWidth",o[0]+"px"),o}}();
function fix100vh(){let e=.01*window.innerHeight;document.documentElement.style.setProperty("--vh",e+"px")}window.addEventListener("DOMContentLoaded",()=>{fix100vh(),window.addEventListener("resize",()=>{fix100vh(),getScrollBarSize()}),getScrollBarSize()});let textareas=document.querySelectorAll("textarea");textareas.forEach(e=>{e.addEventListener("input",(function(){this.style.height="auto",this.style.height=this.scrollHeight+16+"px"}),!1)});
//# sourceMappingURL=../sourcemaps/main.min.js.map
