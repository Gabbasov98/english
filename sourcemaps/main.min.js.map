{"version":3,"sources":["a-global.js","b-header.js","c-sliders.js","i-file.js","n-modal.js","01_main.js"],"names":["wordModal","document","querySelector","sentenceModal","articleText","querySelectorAll","forEach","p","text","innerHTML","replace","s","onmouseup","e","selected_text","style","top","clientY","window","getSelection","toString","selection","type","createRange","trim","classList","remove","add","addEventListener","composedPath","includes","keyCode","span","onclick","event","onscroll","body","modalTogglers","modals","closeModals","modal","openModal","modalId","closeButtons","btn","el","getAttribute","getScrollBarSize","createElement","visibility","position","zIndex","left","width","height","overflow","margin","border","padding","support","undefined","clientWidth","offsetWidth","key","hasOwnProperty","size","appendChild","offsetHeight","clientHeight","removeChild","documentElement","setProperty","fix100vh","vh","innerHeight","textareas","textarea","this","scrollHeight"],"mappings":"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","file":"../components/main.min.js","sourcesContent":["let wordModal = document.querySelector(\"._word-modal\")\r\nlet sentenceModal = document.querySelector(\"._sentence-modal\")\r\n\r\nlet articleText = document.querySelector(\".article .text\")\r\n\r\nif(articleText){\r\n    let paragraphs = articleText.querySelectorAll(\"p\")\r\n\r\n    paragraphs.forEach(p => {\r\n        let text = p.innerHTML.replace(/[\\wа-яё]+/gim, function(s) {\r\n            // return s === \" \" ? s : \"<span>\" +s + \"</span>\"\r\n            if(s === \"nbsp\"){\r\n                return \"\"\r\n            }\r\n            if(s === \"&;\"){\r\n                return \"\"\r\n            }\r\n            if(s === \" \"){\r\n                return \"\"\r\n            }\r\n            if(s === \"\"){\r\n                return \"\"\r\n            }\r\n            if(s === \".\"){\r\n                return \".\"\r\n            }\r\n            if(s === \",\"){\r\n                return \",\"\r\n            }\r\n            return `<span>${s}</span>`\r\n        });\r\n\r\n        p.innerHTML = text.replace(/[&;]/g, '')\r\n    })\r\n\r\n    articleText.onmouseup = function(e) {\r\n        let selected_text = \"\";\r\n\r\n        wordModal.style.top = `${e.clientY / 16}em`\r\n        sentenceModal.style.top = `${e.clientY / 16}em`\r\n\r\n        if(window.getSelection) {\r\n\r\n            selected_text = window.getSelection().toString();\r\n\r\n        } else if(document.selection && document.selection.type != \"Control\") {\r\n\r\n            selected_text = document.selection.createRange().text;\r\n\r\n        }\r\n\r\n        if(!!selected_text) {\r\n            selected_text = selected_text.trim()\r\n            if(selected_text){\r\n                wordModal.classList.remove(\"_active\")\r\n                sentenceModal.classList.add(\"_active\")\r\n            }\r\n        }\r\n\r\n    };\r\n\r\n    document.addEventListener( 'click', (e) => {\r\n        const withinBoundaries = e.composedPath().includes(articleText);\r\n\r\n        if ( ! withinBoundaries ) {\r\n            sentenceModal.classList.remove(\"_active\")\r\n            wordModal.classList.remove(\"_active\")\r\n        }\r\n    })\r\n\r\n    document.addEventListener('keydown', function(e) {\r\n        if( e.keyCode == 27 ){\r\n            sentenceModal.classList.remove(\"_active\")\r\n            wordModal.classList.remove(\"_active\")\r\n        }\r\n    });\r\n\r\n\r\n    let spans = articleText.querySelectorAll(\"span\")\r\n    spans.forEach(span => {\r\n        if(span){\r\n            span.onclick = function () {\r\n                sentenceModal.classList.remove(\"_active\")\r\n                wordModal.classList.add(\"_active\")\r\n            }\r\n        }\r\n    })\r\n\r\n    addEventListener(\"scroll\", (event) => {});\r\n\r\n    onscroll = (event) => {\r\n        sentenceModal.classList.remove(\"_active\")\r\n        wordModal.classList.remove(\"_active\")\r\n    };\r\n}\r\n\r\n\r\n\r\n","","\r\n","","let body = document.querySelector(\"body\")\nlet modalTogglers = document.querySelectorAll(\"[data-modal]\")\nlet modals = document.querySelectorAll(\".modal\")\n\nmodalTogglers.forEach(el => {\n    el.onclick = function () {\n        let modalId = el.getAttribute(\"data-modal\")\n        openModal(modalId)\n    }\n})\n\nfunction closeModals() {\n    modals.forEach(modal => {\n        modal.classList.remove(\"_active\")\n        body.classList.remove(\"fixed-body2\")\n    })\n}\n\nfunction openModal(modalId) {\n    closeModals()\n    let modal = document.querySelector(`#${modalId}`)\n    let closeButtons = modal.querySelectorAll(`._close-modal`)\n\n    modal.classList.add(\"_active\")\n    body.classList.add(\"fixed-body2\")\n\n\n    closeButtons.forEach(btn => {\n        btn.onclick = ()=> {\n            modal.classList.remove(\"_active\")\n            body.classList.remove(\"fixed-body2\")\n        }\n    })\n}\n\nvar getScrollBarSize = (function() {\n    var el = window.document.createElement('textarea'), style = {\n        'visibility': 'hidden', 'position': 'absolute', 'zIndex': '-2147483647',\n        'top': '-1000px', 'left': '-1000px', 'width': '1000px', 'height': '1000px',\n        'overflow': 'scroll', 'margin': '0', 'border': '0', 'padding': '0'\n    }, support = el.clientWidth !== undefined && el.offsetWidth !== undefined;\n\n    for (var key in style) {\n        if (style.hasOwnProperty(key)) {\n            el.style[key] = style[key];\n        }\n    }\n\n    return function() {\n        var size = null;\n        if (support && window.document.body) {\n            window.document.body.appendChild(el);\n            size = [el.offsetWidth - el.clientWidth, el.offsetHeight - el.clientHeight];\n            window.document.body.removeChild(el);\n        }\n\n        document.documentElement.style.setProperty('--scrollWidth', `${size[0]}px`);\n        return size;\n    };\n})();\n\n","window.addEventListener('DOMContentLoaded', () => {\r\n    fix100vh();\r\n    window.addEventListener('resize', () => {\r\n        fix100vh();\r\n        getScrollBarSize()\r\n    })\r\n\r\n    getScrollBarSize()\r\n\r\n})\r\n\r\nfunction fix100vh() {\r\n    let vh = window.innerHeight * 0.01;\r\n    document.documentElement.style.setProperty('--vh', `${vh}px`);\r\n}\r\n\r\nlet textareas = document.querySelectorAll(\"textarea\");\r\ntextareas.forEach(textarea => {\r\n    textarea.addEventListener('input', autoResize, false);\r\n\r\n    function autoResize() {\r\n        this.style.height = 'auto';\r\n        this.style.height = this.scrollHeight + 16 + 'px';\r\n    }\r\n})\r\n"]}